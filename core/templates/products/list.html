{% extends 'base/base.html' %}

{% block title %}Produtos{% endblock %}

{% block content %}

<div class="d-flex justify-content-between mb-3">
    <h2>Produtos</h2>
    <a href="{% url 'product_create' %}" class="btn btn-success">
        Novo Produto
    </a>
</div>
<form method="get" class="mb-3 d-flex">
    <input type="text" name="q" value="{{ search }}" class="form-control me-2" placeholder="Buscar produto">
    <button class="btn btn-outline-primary">Buscar</button>
</form>
<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>Nome</th>
            <th>Modelo</th>
            <th>Tamanho</th>
            <th>Cor</th>
            <th>Custo</th>
            <th>Preço Varejo</th>
            <th>Preço Atacado</th>
            <th>Reservas</th>
            <th>Estoque</th>
            <th class="text-end">Ações</th>
        </tr>
    </thead>
    <tbody>
{% for product in products %}
<tr>
    <td>{{ product.name }}</td>
    <td>{{ product.model }}</td>
    <td>{{ product.size }}</td>
    <td>{{ product.color }}</td>
    <td>R$ {{ product.cost }}</td>
    <td>R$ {{ product.price }}</td>
    <td>R$ {{ product.price1 }}</td>
    <td>{{ product.stock_reserved }}</td>
    <td>{{ product.stock_available }}</td>
    <td class="text-end">
        <a href="{% url 'product_update' product.id %}" class="btn btn-sm btn-warning">Editar</a>
        <a href="{% url 'stock_movement' product.id %}" class="btn btn-sm btn-primary">Estoque</a>
        <a href="{% url 'product_delete' product.id %}" class="btn btn-sm btn-danger">Excluir</a>
    </td>
</tr>
{{ product.stock_available }}
{% endfor %}
</tbody>

</table>

{% endblock %}
