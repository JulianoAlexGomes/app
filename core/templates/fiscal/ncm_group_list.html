{% extends 'base/base.html' %}
{% load static %}
{% block title %}Grupos de NCM{% endblock %}

{% block content %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<style>
.card-dashboard{
    border:none;
    border-radius:14px;
    box-shadow:0 4px 20px rgba(0,0,0,0.05);
}

.table thead th{
    font-size:12px;
    text-transform:uppercase;
    letter-spacing:.5px;
    background:#f8f9fa;
}

.btn-icon{
    width:34px;
    height:34px;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
    border:1px solid #dee2e6;
    background:#fff;
    transition:.2s;
}

.btn-icon:hover{
    transform:scale(1.05);
}

.btn-primary-icon{
    background:#0d6efd;
    color:#fff;
    border:none;
}

.btn-danger-icon{
    background:#dc3545;
    color:#fff;
    border:none;
}
</style>

<div class="container mt-4">

    <!-- HEADER -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h4 class="fw-bold mb-0">Grupos de NCM</h4>

        <a href="{% url 'ncm_group_create' %}"
           class="btn-icon btn-primary-icon">
            <i class="bi bi-plus-lg"></i>
        </a>
    </div>

    <!-- TABELA -->
    <div class="card card-dashboard">
        <div class="table-responsive">
            <table class="table align-middle mb-0">
                <thead>
                    <tr>
                        <th>Nome do Grupo</th>
                        <th class="text-center" width="140">Ações</th>
                    </tr>
                </thead>
                <tbody>
                    {% for group in object_list %}
                    <tr>
                        <td>
                            <strong>{{ group.name }}</strong>
                        </td>

                        <td>
                            <div class="d-flex justify-content-center gap-2">

                                <!-- Visualizar Itens -->
                                <a href="{% url 'ncm_group_items' group.id %}"
                                   class="btn-icon"
                                   title="NCMS">
                                    <i class="bi bi-list-ul"></i>
                                </a>

                                <!-- Editar -->
                                <a href="{% url 'ncm_group_update' group.id %}"
                                   class="btn-icon"
                                   title="Editar">
                                    <i class="bi bi-pencil"></i>
                                </a>

                                <!-- Excluir -->
                                <a href="{% url 'ncm_group_delete' group.id %}"
                                   class="btn-icon btn-danger-icon"
                                   title="Excluir"
                                   onclick="return confirm('Excluir este grupo?')">
                                    <i class="bi bi-trash"></i>
                                </a>

                            </div>
                        </td>
                    </tr>

                    {% empty %}
                    <tr>
                        <td colspan="2" class="text-center text-muted py-4">
                            Nenhum grupo cadastrado
                        </td>
                    </tr>
                    {% endfor %}

                </tbody>
            </table>
        </div>
    </div>

</div>

{% endblock %}